<div class="container my-2">

  <div class="d-flex justify-content-center my-3">
    <h1>Listado de Clubes</h1>
  </div>

  <div class="d-flex justify-content-between my-2"
       [hidden]="!oPage || oPage.totalElements === 0">
    <app-paginacion
      [numPage]="numPage"
      [numPages]="oPage?.totalPages || 1"
      (pageChange)="goToPage($event)">
    </app-paginacion>

    <app-botonera-rpp
      [numRpp]="numRpp"
      (rppChange)="onRppChange($event)">
    </app-botonera-rpp>
  </div>

  @if (oPage) {
    <table class="table table-striped table-bordered">
      <thead>
        <tr>
          <th (click)="onOrder('id')" style="cursor:pointer">ID</th>
          <th (click)="onOrder('nombre')" style="cursor:pointer">Nombre</th>
          <th (click)="onOrder('direccion')" style="cursor:pointer">Dirección</th>
          <th (click)="onOrder('telefono')" style="cursor:pointer">Teléfono</th>
          <th (click)="onOrder('fechaAlta')" style="cursor:pointer">Fecha Alta</th>
          <th>Temporadas</th>
          <th>Noticias</th>
          <th>Tipo Artículos</th>
          <th>Usuarios</th>
        </tr>
      </thead>

      <tbody>
        @if (oPage.content && oPage.content.length > 0) {
          @for (club of oPage.content; track club.id) {
            <tr>
              <td>{{ club.id }}</td>
              <td>{{ club.nombre }}</td>
              <td>{{ club.direccion }}</td>
              <td>{{ club.telefono }}</td>
              <td>{{ club.fechaAlta | datetime }}</td>
              <td class="text-center">{{ club.temporadas }}</td>
              <td class="text-center">{{ club.noticias }}</td>
              <td class="text-center">{{ club.tipoarticulos }}</td>
              <td class="text-center">{{ club.usuarios }}</td>
            </tr>
          }
        } @else {
          <tr>
            <td colspan="9" class="text-center">No hay clubes para mostrar</td>
          </tr>
        }
      </tbody>
    </table>
  } @else {
    <div class="alert alert-secondary text-center my-4">
      Cargando clubes...
    </div>
  }

</div>
