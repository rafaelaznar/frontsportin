<div class="plist-equipo container">
  <h3>Listado de Equipos</h3>

  <div class="controls">
    <label>Mostrar
      <select (change)="onSizeChange($any($event).target.value)">
        @for (size of rpp; track $index) {
        <option value="{{size}}" [selected]="size==pageSize">{{size}}</option>
        }
      </select>
    </label>
  </div>

  @if (loading) {
  <div>Cargando...</div>
  } @if (error) {
  <div class="alert alert-danger">{{error}}</div>
  }

  <table class="table table-striped">
    <thead>
      <tr>
        <th>Id</th>
        <th>Nombre</th>
        <th>Categoría</th>
        <th>Entrenador</th>
        <th>Jugadores</th>
        
      </tr>
    </thead>
    <tbody>
      @for (equipo of aEquipos; track $index) {
      <tr>
        <td>{{equipo.id}}</td>
        <td>{{equipo.nombre}}</td>
        <td>{{equipo.categoria?.nombre}}</td>
        <td>{{equipo.entrenador?.nombre}} {{equipo.entrenador?.apellido1}}</td>
        <td>{{equipo.jugadores}}</td>
      </tr>
      }
    </tbody>
  </table>

  <nav>
    <ul class="pagination">
      <li class="page-item" [class.disabled]="pageNumber==0">
  <a class="page-link" (click)="onPageChange(pageNumber-1)" href="javascript:void(0)">Previous</a>
      </li>

      @for (p of getPages(); track $index) {
        <li class="page-item" [class.active]="p==pageNumber">
        <a class="page-link" (click)="onPageChange(p)" href="javascript:void(0)">{{p + 1}}</a>
      </li>
      }

      <li class="page-item" [class.disabled]="pageNumber+1==totalPages">
  <a class="page-link" (click)="onPageChange(pageNumber+1)" href="javascript:void(0)">Next</a>
      </li>
    </ul>
  </nav>

  <div class="summary">Página {{pageNumber + 1}} de {{totalPages}} — Total: {{totalElements}}</div>

  

</div>
